<!DOCTYPE html>

<html lang="pt-pt">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="assets/css/pageInit.css">
    <!-- Biblioteca PDF.js para melhor visualização de PDFs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
</head>
<body>

    <!--Menu Lateral -->
    <div id="menu-container"></div>

    <main class="conteudo-principal">
        <h2 class="titulo">Os Meus Materiais</h2>
    
        <section class="secao-material">
            <h3>Público</h3>
            <div class="pdf-grid" id="publico-lista">
                <!-- PDFs públicos aqui -->
            </div>
            <p id="mensagem-vazio-publico" class="mensagem-vazio" style="display: none;">Sem materiais publicados.</p>
    
            <h3>Privado</h3>
            <div class="pdf-grid" id="privado-lista">
                <!-- PDFs privados aqui -->
            </div>
            <p id="mensagem-vazio-privado" class="mensagem-vazio" style="display: none;">Sem materiais privados.</p>
        </section>
    </main>
    
    <div class="priv-acoes" id="priv-acoes" style="display: none;">
        <button onclick="moverParaPublico()" title="Privacidade"><i class="bi bi-unlock"></i></button>
        <button onclick="verPDF()" title="Visualizar"><i class="bi bi-eye"></i></button>
        <button onclick="fazerDownload()" title="Descarregar"><i class="bi bi-download"></i></button>
        <button onclick="eliminarPDF()" title="Eliminar"><i class="bi bi-trash"></i></button>
    </div>

    <div class="pub-acoes" id="pub-acoes" style="display: none;">
        <button onclick="moverParaPrivado()" title="Privacidade"><i class="bi bi-lock"></i></button>
        <button onclick="verPDF()" title="Visualizar"><i class="bi bi-eye"></i></button>
        <button onclick="fazerDownload()" title="Descarregar"><i class="bi bi-download"></i></button>
        <button onclick="eliminarPDF()" title="Eliminar"><i class="bi bi-trash"></i></button>
    </div>

    
    <div class="btn-perfil" id="btn-per">
        <img id="user-avatar" src="/uploads/avatars/default_avatar.png" alt="Avatar do Utilizador" style="width: 50px; height: 50px; border-radius: 50%; cursor: pointer;" onclick="window.location.href='pageEditprofile.html'">
    </div>

    <!-- Diálogo de confirmação para publicar material -->
    <div class="modal-confirmacao" id="modal-confirmacao">
        <div class="modal-conteudo">
            <h3>Tem a certeza que deseja publicar este material?</h3>
            <div class="botoes-confirmacao">
                <button class="botao-sim" id="botao-sim">Sim</button>
                <button class="botao-nao" id="botao-nao">Não</button>
            </div>
        </div>
    </div>

    <!-- Diálogo de confirmação para tornar privado -->
    <div class="modal-confirmacao" id="modal-privado">
        <div class="modal-conteudo">
            <h3>Tem a certeza que deseja tornar este material privado?</h3>
            <div class="botoes-confirmacao">
                <button class="botao-sim" id="botao-sim-privado">Sim</button>
                <button class="botao-nao" id="botao-nao-privado">Não</button>
            </div>
        </div>
    </div>

    <!-- Diálogo de confirmação para eliminar -->
    <div class="modal-confirmacao" id="modal-eliminar">
        <div class="modal-conteudo">
            <h3>Tem a certeza que deseja eliminar este material?</h3>
            <div class="botoes-confirmacao">
                <button class="botao-sim" id="botao-sim-eliminar">Sim</button>
                <button class="botao-nao" id="botao-nao-eliminar">Não</button>
            </div>
        </div>
    </div>

    <!-- Modal para visualização de PDF -->
    <div class="modal-pdf" id="modal-pdf">
        <div class="modal-pdf-conteudo">
            <div class="modal-pdf-cabecalho">
                <h3 id="pdf-titulo">Visualizar PDF</h3>
                <button id="fechar-pdf" class="fechar-pdf">&times;</button>
            </div>
            <div class="modal-pdf-corpo">
                <iframe id="pdf-viewer" width="100%" height="100%" frameborder="0"></iframe>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="assets/js/menu.js"></script>
    <script src="assets/js/globalAvatarUpdater.js"></script>
    <!-- Teu script normal -->
    <script src="assets/js/pageInit.js"></script>

</body>
</html>